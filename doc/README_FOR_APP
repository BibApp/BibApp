=== Get Started ===

1. Rails 2.0.2

Rails 2.0.2 is frozen in this Rails application.  Since we're still in development, knowing RoR application development is the most important part of using this code.

2. Ruby Gem Pre-requisites

Generally, you install gems using the following:

<pre>
gem install [gem-name] --include-dependencies
</pre>

The following gems are required to run BibApp:

* None... 'cuz we're "freezing everything necessary":http://errtheblog.com/posts/50-vendor-everything

You also need to choose your Database, and install one of the following gems:

* mysql     - If you plan to use a MySQL database (default)
* postgres  - If you plan to use a PostgreSQL database

See the /config/database.yml.example for more tips on installing and configuring
your database driver.

You may also wish to install the following gems:

* mongrel - If you plan to use a Mongrel server 
* mongrel_cluster - If you want to cluster several Mongrel servers


3. Get the Latest BibApp Code

<pre>
svn checkout http://bibapp.googlecode.com/svn/trunk/
</pre>

4. Edit Configs

Edit the /config files:

* database.yml.example
* ldap.yml.example
* personalize.rb.example
* solr.yml.example

You'll need to remove the .example extension from each of these files and personalize the contents as necessary.  As we are using the Rails "Acts as Solr" plugin, the Solr location and port will stay the same (no changes necessary).

5. Setup Your Database

If you don't already have a BibApp database created, create it!  
Make sure it is named the same as the 'database' in your config/database.yml file!

If you have an old BibApp (version 0.4) database, just back it up and prep a new one.

*IMPORTANT!* There is *no migrationâ€¢ presently to move data from v0.4 to truck's schema.

Now you can generate the BibApp database structure from within [bibapp]
(where [bibapp] represents the location where you downloaded BibApp to):

<pre>
cd [bibapp]
rake db:migrate
</pre>

6. Run Mongrel? or the server of your preference...

<pre>
cd [bibapp]
mongrel_rails start
</pre>

7. Solr

Starting (on Linux/Mac OSX)
<pre>
cd [bibapp]
rake solr:start
</pre>

Starting (on Windows)
<pre>
cd [bibapp]
rake solr:start_win
</pre>

View your Solr install here:
http://localhost:8982/solr/admin/

Stopping
<pre>
cd [bibapp]
rake solr:stop
</pre>

<aside>
  h4. Should you need to reindex the Solr index:

  1. Stop solr
  [bibapp] rake solr:stop

  2. Delete the index:
  [bibapp] rm -r vendor/plugins/acts_as_solr/solr/solr/data/*

  3. Restart solr
  [bibapp] rake solr:start     (for Linux/Mac OSX)
  [bibapp] rake solr:start_win (for Windows)

  4. Reindex your citations
  [bibapp] script/console
  [sc] citations = Citation.find(:all, :conditions => ["citation_state_id = 3"])
  [sc] citations.each{ |c| c.save_and_set_for_index_without_callbacks }
  [sc] Index.batch_index
</aside>

You are done.  Pull it up: http://localhost:3000

=== Add Data ===

Base = /

1. Add Citations: /citations/new

* Add either RIS, MEDLINE or "old-style" Refworks XML

2. Add People: /people

* Use the LDAP search form at the bottom of the page
* When the page refreshes, you should have "use me" options for importing LDAP data to the web form

3. Add PenNames: /people/1

* If you have Citation data loaded, the "Filter" form will help you view possible author name variants.

* Example: Ray Vanderby, Jr
- Filter by "Vanderby"
- Results will be:

# Vanderby Jr.,Ray
# Vanderby R.,Jr
# Vanderby,R.
# Vanderby,R.,Jr
# Vanderby,R.Jr
# Vanderby,Ray
# Vanderby,Ray Jr

- Select all of the "correct" pen names for Ray Vanderby, Jr
- Selecting a pen name automatically includes citations authored via that name to Ray Vanderby, Jr's Person page

4. Add Groups: /people/1

* Add "Memberships" (Group Names) and submit
* Groups automatically get their own Group page ( /group/1 )

5. Try out search

6. More to come...
